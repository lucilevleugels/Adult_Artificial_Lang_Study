# Load the tidyverse package
library(tidyverse)
library(here)
# Automatically set the working directory to the project's top-level directory
setwd(paste(here(),"/AALL_Behavioral_Testing_Analysis"))
# Automatically set the working directory to the project's top-level directory
setwd(paste0(here(),"/AALL_Behavioral_Testing_Analysis"))
getwd()
# Load the tidyverse package
library(tidyverse)
library(here)
# Automatically set the working directory to the project's top-level directory
setwd(paste0(here(),"/AALL_Behavioral_Testing_Analysis"))
getwd()
# List all files that start with "Test" and end with ".csv"
files <- list.files(pattern = "^Test.*\\.csv$")
# Read each file and store the data frames in a list
data_list <- map(files, read_csv)
# Optional: Combine all data frames into a single one
# (only if all data frames have the same structure)
combined_data <- bind_rows(data_list)
View(combined_data)
View(combined_data)
# List all files that start with "Test" and end with ".csv"
files <- list.files(pattern = "^Test.*\\.csv$")
# Read each file, add a column for the filename, and combine into a single dataframe
combined_data <- map_dfr(files, function(file) {
read_csv(file) %>%
mutate(FileName = file)
})
View(combined_data)
View(combined_data)
# Read each file, add a column for the filename, extract ID, and combine into a single dataframe
combined_data <- map_dfr(files, function(file) {
read_csv(file) %>%
mutate(FileName = file,
ID = str_extract(file, "(?<=_)\\d{3}(?=\\.csv)"))
})
# List all files that start with "Test" and end with ".csv"
files <- list.files(pattern = "^Test.*\\.csv$")
# Read each file, add a column for the filename, extract ID, and combine into a single dataframe
combined_data <- map_dfr(files, function(file) {
read_csv(file) %>%
mutate(FileName = file,
ID = str_extract(file, "(?<=_)\\d{3}(?=\\.csv)"))
})
View(combined_data)
View(combined_data)
# Remove row names
rownames(combined_data) <- NULL
View(combined_data)
View(combined_data)
# List all files that start with "Test" and end with ".csv"
files <- list.files(pattern = "^Test.*\\.csv$")
# Read each file, add a column for the filename, extract ID, and combine into a single dataframe
combined_data <- map_dfr(files, function(file) {
read_csv(file) %>%
mutate(FileName = file,
ID = str_extract(file, "(?<=_)\\d{3}(?=\\.csv)"))
})
# Remove row names
rownames(combined_data) <- NULL
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy))
View(data_subj_raw)
View(data_subj_raw)
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy)) %>%
spread(key = block, value = acc_block)
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy)) %>%
spread(key = block, value = acc_block)
View(data_subj_raw)
View(data_subj_raw)
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy)) %>%
spread(key = block, value = acc_block) %>%
mutate(acc_overall = mean(`1`, `2`, `3`, `4`))
View(data_subj_raw)
View(data_subj_raw)
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy)) %>%
spread(key = block, value = acc_block) %>%
mutate(acc_overall = average(`1`, `2`, `3`, `4`))
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy)) %>%
rename(block_1 = `1`, block_2 = `2`)
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy))
View(data_subj_raw)
View(data_subj_raw)
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy)) %>%
spread(key = block, value = acc_block) %>%
rename(block_1 = `1`, block_2 = `2`)
View(data_subj_raw)
View(data_subj_raw)
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy)) %>%
spread(key = block, value = acc_block) %>%
rename(block_1 = `1`, block_2 = `2`, block_3 = `3`, block_4 = `4`)
View(data_subj_raw)
View(data_subj_raw)
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy)) %>%
spread(key = block, value = acc_block) %>%
rename(block_1 = `1`, block_2 = `2`, block_3 = `3`, block_4 = `4`) %>%
mutate(acc_overall = rowMeans(select(., 2:5)))
View(data_subj_raw)
View(data_subj_raw)
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy)) %>%
spread(key = block, value = acc_block) %>%
rename(block_1 = `1`, block_2 = `2`, block_3 = `3`, block_4 = `4`) %>%
mutate(acc_overall = mean(block_1, block_2, block_3, block_4))
View(data_subj_raw)
View(data_subj_raw)
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy)) %>%
spread(key = block, value = acc_block) %>%
rename(block_1 = `1`, block_2 = `2`, block_3 = `3`, block_4 = `4`) %>%
rowwise() %>%
mutate(acc_overall = mean(block_1, block_2, block_3, block_4))
View(data_subj_raw)
View(data_subj_raw)
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy)) %>%
spread(key = block, value = acc_block) %>%
rename(block_1 = `1`, block_2 = `2`, block_3 = `3`, block_4 = `4`) %>%
rowwise() %>%
mutate(acc_overall = mean(c(block_1, block_2, block_3, block_4),na.rm = TRUE))
View(data_subj_raw)
View(data_subj_raw)
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy, na.rm = TRUE)) %>%
spread(key = block, value = acc_block) %>%
rename(block_1 = `1`, block_2 = `2`, block_3 = `3`, block_4 = `4`) %>%
rowwise() %>%
mutate(acc_overall = mean(c(block_1, block_2, block_3, block_4),na.rm = TRUE))
View(data_subj_raw)
View(data_subj_raw)
# List all files that start with "Test" and end with ".csv"
files <- list.files(pattern = "^Test.*\\.csv$")
# Read each file, add a column for the filename, extract ID, and combine into a single dataframe
combined_data <- map_dfr(files, function(file) {
read_csv(file) %>%
mutate(FileName = file,
ID = str_extract(file, "(?<=_)\\d{3}(?=\\.csv)"))
})
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy, na.rm = TRUE)) %>%
spread(key = block, value = acc_block) %>%
rename(block_1 = `1`, block_2 = `2`, block_3 = `3`, block_4 = `4`) %>%
rowwise() %>%
mutate(acc_overall = mean(c(block_1, block_2, block_3, block_4),na.rm = TRUE))
View(data_subj_raw)
View(data_subj_raw)
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy, na.rm = TRUE)) %>%
spread(key = block, value = acc_block) %>%
rename(block_1 = `1`, block_2 = `2`, block_3 = `3`, block_4 = `4`) %>%
rowwise() %>%
mutate(acc_overall = mean(c(block_1, block_2, block_3, block_4),na.rm = TRUE)) %>%
mutate(acc_last3blocks) = mean(c(block_1, block_2, block_3),na.rm = TRUE))
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy, na.rm = TRUE)) %>%
spread(key = block, value = acc_block) %>%
rename(block_1 = `1`, block_2 = `2`, block_3 = `3`, block_4 = `4`) %>%
rowwise() %>%
mutate(acc_overall = mean(c(block_1, block_2, block_3, block_4),na.rm = TRUE)) %>%
mutate(acc_last3blocks) = mean(c(block_1, block_2, block_3),na.rm = TRUE)
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy, na.rm = TRUE)) %>%
spread(key = block, value = acc_block) %>%
rename(block_1 = `1`, block_2 = `2`, block_3 = `3`, block_4 = `4`) %>%
rowwise() %>%
mutate(acc_overall = mean(c(block_1, block_2, block_3, block_4),na.rm = TRUE)) %>%
mutate(acc_last3blocks) = mean(c(block_1, block_2, block_3),na.rm = TRUE))
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy, na.rm = TRUE)) %>%
spread(key = block, value = acc_block) %>%
rename(block_1 = `1`, block_2 = `2`, block_3 = `3`, block_4 = `4`) %>%
rowwise() %>%
mutate(acc_overall = mean(c(block_1, block_2, block_3, block_4),na.rm = TRUE)) %>%
mutate(acc_last3blocks = mean(c(block_1, block_2, block_3),na.rm = TRUE))
View(data_subj_raw)
View(data_subj_raw)
View(combined_data)
View(combined_data)
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy, na.rm = TRUE)) %>%
spread(key = block, value = acc_block) %>%
rename(block_1 = `1`, block_2 = `2`, block_3 = `3`, block_4 = `4`) %>%
rowwise() %>%
mutate(acc_overall = mean(c(block_1, block_2, block_3, block_4),na.rm = TRUE)) %>%
mutate(acc_last3blocks = mean(c(block_1, block_2, block_3),na.rm = TRUE)) %>%
mutate(trial_num = 48)
View(data_subj_raw)
View(data_subj_raw)
View(data_subj_raw)
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy, na.rm = TRUE)) %>%
spread(key = block, value = acc_block) %>%
rename(block_1 = `1`, block_2 = `2`, block_3 = `3`, block_4 = `4`) %>%
rowwise() %>%
mutate(acc_overall = mean(c(block_1, block_2, block_3, block_4),na.rm = TRUE)) %>%
mutate(acc_last3blocks = mean(c(block_1, block_2, block_3),na.rm = TRUE)) %>%
mutate(trial_num = 48) %>%
mutate(binom_test_p_value = binom.test(acc_last3blocks*trial_num, trial_num p = 0.5)$p.value)
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy, na.rm = TRUE)) %>%
spread(key = block, value = acc_block) %>%
rename(block_1 = `1`, block_2 = `2`, block_3 = `3`, block_4 = `4`) %>%
rowwise() %>%
mutate(acc_overall = mean(c(block_1, block_2, block_3, block_4),na.rm = TRUE)) %>%
mutate(acc_last3blocks = mean(c(block_1, block_2, block_3),na.rm = TRUE)) %>%
mutate(trial_num = 48) %>%
mutate(binom_test_p_value = binom.test(acc_last3blocks * trial_num, trial_num, p = 0.5)$p.value)
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy, na.rm = TRUE)) %>%
ungroup() %>%
spread(key = block, value = acc_block) %>%
rename(block_1 = `1`, block_2 = `2`, block_3 = `3`, block_4 = `4`) %>%
rowwise() %>%
mutate(acc_overall = mean(c(block_1, block_2, block_3, block_4),na.rm = TRUE)) %>%
mutate(acc_last3blocks = mean(c(block_1, block_2, block_3),na.rm = TRUE)) %>%
mutate(trial_num = 48) %>%
mutate(binom_test_p_value = binom.test(acc_last3blocks * trial_num, trial_num, p = 0.5)$p.value)
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy, na.rm = TRUE)) %>%
ungroup() %>%
spread(key = block, value = acc_block) %>%
rename(block_1 = `1`, block_2 = `2`, block_3 = `3`, block_4 = `4`) %>%
rowwise() %>%
mutate(acc_overall = mean(c(block_1, block_2, block_3, block_4),na.rm = TRUE)) %>%
mutate(acc_last3blocks = mean(c(block_1, block_2, block_3),na.rm = TRUE)) %>%
mutate(trial_num = 48) %>%
mutate(binom_test_p_value = binom.test(round(acc_last3blocks * trial_num), trial_num, p = 0.5)$p.value)
View(data_subj_raw)
View(data_subj_raw)
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy, na.rm = TRUE)) %>%
ungroup() %>%
spread(key = block, value = acc_block) %>%
rename(block_1 = `1`, block_2 = `2`, block_3 = `3`, block_4 = `4`) %>%
rowwise() %>%
mutate(acc_overall = mean(c(block_1, block_2, block_3, block_4),na.rm = TRUE)) %>%
mutate(acc_last3blocks = mean(c(block_1, block_2, block_3),na.rm = TRUE)) %>%
mutate(trial_num = 48) %>%
mutate(binom_test_p_value = round(binom.test(round(acc_last3blocks * trial_num), trial_num, p = 0.5)$p.value))
View(data_subj_raw)
View(data_subj_raw)
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy, na.rm = TRUE)) %>%
ungroup() %>%
spread(key = block, value = acc_block) %>%
rename(block_1 = `1`, block_2 = `2`, block_3 = `3`, block_4 = `4`) %>%
rowwise() %>%
mutate(acc_overall = mean(c(block_1, block_2, block_3, block_4),na.rm = TRUE)) %>%
mutate(acc_last3blocks = mean(c(block_1, block_2, block_3),na.rm = TRUE)) %>%
mutate(trial_num = 48) %>%
mutate(binom_test_p_value = round(binom.test(round(acc_last3blocks * trial_num), trial_num, p = 0.5)$p.value, digits = 3))
View(data_subj_raw)
View(data_subj_raw)
# Compute subject level data, including both overall accuracy and accuracy by block
data_subj_raw = combined_data %>%
group_by(ID, block) %>%
summarise(acc_block = mean(Accuracy, na.rm = TRUE)) %>%
ungroup() %>%
spread(key = block, value = acc_block) %>%
rename(block_1 = `1`, block_2 = `2`, block_3 = `3`, block_4 = `4`) %>%
rowwise() %>%
mutate(acc_overall = mean(c(block_1, block_2, block_3, block_4),na.rm = TRUE)) %>%
mutate(acc_last3blocks = mean(c(block_2, block_3, block_4),na.rm = TRUE)) %>%
mutate(trial_num = 48) %>%
mutate(binom_test_p_value = round(binom.test(round(acc_last3blocks * trial_num), trial_num, p = 0.5)$p.value, digits = 3))
View(data_subj_raw)
View(data_subj_raw)
